# âš½ Football Tracking dataë¥¼ ì´ìš©í•˜ì—¬ Events data ì˜ˆì¸¡ ë° ë¶„ì„
2025 ì „ê¸° ì¡¸ì—…ê³¼ì œ fm ë§ˆìŠ¤í„°

###  í”„ë¡œì íŠ¸ ê°œìš”
#### 1.1. êµ­ë‚´ì™¸ ì‹œì¥ í˜„í™© ë° ë¬¸ì œì 
> í˜„ëŒ€ ìŠ¤í¬ì¸ ì—ì„œëŠ” **íŠ¸ë˜í‚¹ ë°ì´í„°**(ì„ ìˆ˜ ìœ„ì¹˜ ë° ì›€ì§ì„ ì •ë³´)ê°€ ê²½ê¸° ì „ëµ ìˆ˜ë¦½ê³¼ í•´ì„ì˜ í•µì‹¬ ìš”ì†Œë¡œ ë– ì˜¤ë¥´ê³  ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì¶•êµ¬ì—ì„œëŠ” 22ëª…ì˜ ì„ ìˆ˜ì™€ ê³µì´ ëŠì„ì—†ì´ ìƒí˜¸ì‘ìš©í•˜ê¸° ë•Œë¬¸ì—, ë‹¨ìˆœ ì´ë²¤íŠ¸ ê¸°ë¡ìœ¼ë¡œëŠ” í•œê³„ê°€ ìˆìœ¼ë©° **ì‹œê³µê°„ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì •ë°€í•œ ë¶„ì„**ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ì— ë”°ë¥¸ ë§ì€ ì—°êµ¬ê°€ ì§„í–‰ë˜ì–´ì•¼ ìŠ¤í¬ì¸  ë¶„ì•¼ê°€ ë” ë°œì „í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.
> í•˜ì§€ë§Œ, ì¶•êµ¬ ê²½ê¸°ì— ê´€ë ¨í•œ ë°ì´í„°ëŠ” êµ¬ë‹¨ ë‚´ privateí•œ ë°ì´í„°ë¡œ ì·¨ê¸‰í•˜ì—¬ **ì—°êµ¬ì— ì‚¬ìš©ë  publicí•œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ê²ƒ**ì— ë§ì€ ì–´ë ¤ì›€ì´ ìˆìŠµë‹ˆë‹¤.

#### 1.2. í•„ìš”ì„±ê³¼ ê¸°ëŒ€íš¨ê³¼
> ë³¸ í”„ë¡œì íŠ¸ëŠ” **íŠ¸ë˜í‚¹ ë°ì´í„°ë¥¼ í†µí•´ ì¶•êµ¬ ê²½ê¸° ì¤‘ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸(íŒ¨ìŠ¤, ìŠˆíŒ…, íƒœí´ ë“±)ë¥¼ ì˜ˆì¸¡í•˜ê³  ë¶„ì„í•˜ëŠ” ì‹œìŠ¤í…œ**ì„ ì—°êµ¬í•¨ìœ¼ë¡œì¨, ê¸°ì¡´ì— ì¶•êµ¬ ë°ì´í„°ë¥¼ ì¼ì¼ì´ ìˆ˜ì§‘í•˜ë˜ ê²ƒì„ ë„˜ì–´ ìƒì„±í˜• AI ë“±ìœ¼ë¡œ ì™„ì „í•œ ì¶•êµ¬ ê²½ê¸°ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì— ê¸°ì—¬í•˜ê³ ì í•©ë‹ˆë‹¤.


### 2. ê°œë°œ ëª©í‘œ
#### 2.1. ëª©í‘œ ë° ì„¸ë¶€ ë‚´ìš©
> íŠ¸ë˜í‚¹ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **íŒ¨ìŠ¤, ìŠˆíŒ…, ë“œë¦¬ë¸”**ê³¼ ê°™ì´ ê³µì˜ ì£¼ìš” ì´ë²¤íŠ¸ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì„ ì„¤ê³„ ë° íŠœë‹í•©ë‹ˆë‹¤.
> **Football Manager 2024** ì‹œë®¬ë ˆì´í„°ë¥¼ í™œìš©í•˜ì—¬ ê²½ê¸° íŠ¸ë˜í‚¹ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.
> ì¶”ì¶œëœ ë°ì´í„°ë¥¼ ì •ì œÂ·ë³´ì •í•˜ì—¬ í•™ìŠµ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ê°€ê³µí•©ë‹ˆë‹¤.

#### 2.2. ê¸°ì¡´ ì„œë¹„ìŠ¤ ëŒ€ë¹„ ì°¨ë³„ì„± 
> ì €í¬ê°€ ì—°êµ¬í•˜ëŠ” ëª¨ë¸ì€ íŠ¸ë˜í‚¹ ë°ì´í„°ë§Œìœ¼ë¡œ ê³µì˜ ìƒíƒœ(state)ë¥¼ ì˜ˆì¸¡í•¨ìœ¼ë¡œì¨ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤. ê¸°ì¡´ì˜ ê¸°ë¡ê°€ê°€ ì¼ì¼ì´ ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•˜ëŠ” ê²ƒê³¼ ì°¨ë³„ì„±ì´ ì¡´ì¬í•©ë‹ˆë‹¤.

#### 2.3. ì‚¬íšŒì  ê°€ì¹˜ ë„ì… ê³„íš 
> ì €í¬ê°€ ì—°êµ¬í•œ ëª¨ë¸ì€ ì•„ì§ ë¯¸ë¹„í•˜ì§€ë§Œ, ë” ë§ì€ ì—°êµ¬ê°€ ì´ë¤„ì§„ë‹¤ë©´ ë” ì‰½ê²Œ ì¶•êµ¬ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•¨ìœ¼ë¡œì¨ ë” ë‚˜ì•„ê°€ ë°ì´í„°ë¥¼ ìƒì„±í•˜ëŠ”ë°ì— ê¸°ì—¬í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.



### 3. ì‹œìŠ¤í…œ ì„¤ê³„
#### 3.1. ì‹œìŠ¤í…œ êµ¬ì„±ë„
<img src="https://github.com/user-attachments/assets/de4a8e9a-f096-4264-a9b7-a1e5031f8558" width="600px" title="Title" alt="Alt text"></img>

#### 3.2. ì‚¬ìš© ê¸°ìˆ 
 - í”„ë¡œê·¸ë˜ë° ì–¸ì–´: Python 3.10.18
 - ê°œë°œ ë„êµ¬: Jupyter Notebook, VS code
 - Fm data ì¶”ì¶œ: Yolov8
 - Event ì˜ˆì¸¡ ëª¨ë¸: Transformer, CNN, TCN
 - ê°€ìƒí™˜ê²½: conda
 - PyTorch(nn/optim), scikit-learn(StandardScaler, GroupKFold, metrics), Metrica sports, Floodlight.io.dfl

### 4. ê°œë°œ ê²°ê³¼
#### 4.1. ì „ì²´ ì‹œìŠ¤í…œ íë¦„ë„
1. Fm in-game data extracting<br>
<img src="https://github.com/user-attachments/assets/631ea624-c7e6-4e22-b49f-201934e32cbc" width="600px" title="Title" alt="Alt text"></img>
</br>
2. Model architecture <br>
<img src="https://github.com/user-attachments/assets/fc68b4eb-1802-4be1-bd1b-f4bdf08cef05" width="600px" title="Title" alt="Alt text"></img>
</br>
#### 4.2. ê¸°ëŠ¥ ì„¤ëª… ë° ì£¼ìš” ê¸°ëŠ¥ ëª…ì„¸ì„œ

|ìš”êµ¬ì‚¬í•­|ê¸°ëŠ¥|ìƒì„¸ ì„¤ëª…|
|------|---|---|
|FM ì¸ê²Œì„ ì´ë¯¸ì§€ ì²˜ë¦¬|image_processing/cropping |OpenCVê¸°ë°˜ 25fps ì´ë¯¸ì§€ ìº¡ì³ ë° cropping.|
|FM ì¸ê²Œì„ ë°ì´í„° ì¶”ì¶œ|movement2cords, interpolating, filter, ball2cord|ì„ ìˆ˜: OpenCVê¸°ë°˜ ê°ì²´ íƒì§€ ë° interpolating, ê³µ: Yolov8 íƒì§€|
|ëª¨ë¸í•™ìŠµ ë°ì´í„°ì…‹|data_processing, visualization|Floodlight.io.dfl ê¸°ë°˜ xml data ì²˜ë¦¬ í”„ë¡œì„¸ìŠ¤|
|ëª¨ë¸ ì„¤ê³„ ë° ì‹œê°í™”|ball_dat, ball_state_viz, model/train_val|Transformer ê¸°ë°˜ ëª¨ë¸ ì„¤ê³„ ë° ì‹œê°í™” plot|

#### 4.3. ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
ğŸ“¦fmMaster
 â”£ ğŸ“‚data
 â”£ ğŸ“‚fmdata_extracting
 â”ƒ â”£ ğŸ“œfilter.ipynb
 â”ƒ â”£ ğŸ“œfind_image_cords.py
 â”ƒ â”£ ğŸ“œimage_processing.py
 â”ƒ â”£ ğŸ“œinterpolating.py
 â”ƒ â”£ ğŸ“œMetrica_IO.py
 â”ƒ â”£ ğŸ“œMetrica_Viz.py
 â”ƒ â”£ ğŸ“œmovement2cords.ipynb
 â”ƒ â”— ğŸ“œvisualization.ipynb
 â”£ ğŸ“‚model
 â”ƒ â”— ğŸ“œmodel.py
 â”£ ğŸ“‚plots
 â”£ ğŸ“‚utils
 â”ƒ â”£ ğŸ“œdata_processing.py
 â”ƒ â”— ğŸ“œvisualization.py
 â”£ ğŸ“œball_data.py
 â”£ ğŸ“œball_state_viz.py
 â”£ ğŸ“œREADME.md
 â”— ğŸ“œtrain_val.py
```
 
#### 4.4. ì‚°ì—…ì²´ ë©˜í† ë§ ì˜ê²¬ ë° ë°˜ì˜ ì‚¬í•­
1. FM2024 ê³µê³¼ ì„ ìˆ˜ì˜ ì‹±í¬ ë¬¸ì œ: ì¹¼ë§Œ í•„í„° ë° ì‚¬ë¹„ì¸ í‚¤-ê³¨ë ˆì´ í•„í„°ì™€ ê°™ì€ ë³´ê°„ë²•ìœ¼ë¡œ ì–´ëŠì •ë„ í•´ê²°.
2. ë°ì´í„° ì¦ê°• ì„¸ë¯¸ ìë™ ë¼ë²¨ë§ ë„êµ¬: Labeling ë²”ìœ„ë¥¼ ê³µì˜ eventì— ì§‘ì¤‘í•˜ëŠ” ê²ƒìœ¼ë¡œ ë°”ê¿”ì„œ passì™€ dribbling, shooting ê·¸ ì™¸ë¡œ ì¤„ì—¬ ìë™ ë¼ë²¨ë§ ìˆ˜í–‰.
3. ëª¨ë¸ Baseline ì¶”ê°€: Conv1D, TCN, Transformer ëª¨ë¸ë¡œ ìˆ˜í–‰.

### 5. ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

#### Installation
FM in-game data ì¶”ì¶œì€ í•´ë‹¹ ê²Œì„ì´ ìˆì–´ì•¼í•˜ê³  ì„ ìˆ˜ì™€ ê³µì˜ ì¸ê²Œì„ ì´¬ì˜ ë°©ì‹ë„ ë‹¬ë¼ ì œì™¸í•œë‹¤.

Use conda to create a virtual environment and pip to install the requirements.
```
conda create --name fmMaster python==3.10.18
conda activate fmMaster
pip install -r requirements.txt
```
#### Usage
1. Download the raw data [here](https://springernature.figshare.com/articles/dataset/An_integrated_dataset_of_spatiotemporal_and_event_data_in_elite_soccer/28196177)
2. Remove invalid dataset start with ID DFL-MAT-J03WN1.
3. Run `train_valid.py`
```
cd your/path/to/fm_Master
```
#### 5.2. ì˜¤ë¥˜ ë°œìƒ ì‹œ í•´ê²° ë°©ë²•
floodlight.io ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ íŒŒì´ì¬ ë²„ì „ ì¶©ëŒì´ ì¼ì–´ë‚  ìˆ˜ ìˆëŠ”ë°, ê·¸ëŸ´ ë•Œì—ëŠ” íŒŒì´ì¬ì„ ì§€ìš°ê³  ë²„ì „ì„ 3.9.xxë¡œ ë‚®ì¶°ì„œ ì§„í–‰í•œë‹¤.

### 6. ì†Œê°œ ìë£Œ ë° ì‹œì—° ì˜ìƒ
#### 6.1. í”„ë¡œì íŠ¸ ì†Œê°œ ìë£Œ
> 

[![2025 ì „ê¸° ì¡¸ì—…ê³¼ì œ 15 fmë§ˆìŠ¤í„°](http://img.youtube.com/vi/DlT91KUyxKE/3.jpg)](https://www.youtube.com/watch?v=DlT91KUyxKE)    

### 7. íŒ€ êµ¬ì„±
#### 7.1. íŒ€ì›ë³„ ì†Œê°œ ë° ì—­í•  ë¶„ë‹´
> - 202055614 ìµœì„±ë¯¼
> - 202055502 ê°•ë™ê¶Œ
#### 7.2. íŒ€ì› ë³„ ì°¸ì—¬ í›„ê¸°
> ê°œë³„ì ìœ¼ë¡œ ëŠë‚€ ì , í˜‘ì—…, ê¸°ìˆ ì  ì–´ë ¤ì›€ ê·¹ë³µ ì‚¬ë¡€ ë“±

### 8. ì°¸ê³  ë¬¸í—Œ ë° ì¶œì²˜
**ë°ì´í„° ì¶œì²˜**: ë³¸ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ ë…¼ë¬¸ì—ì„œ ì œê³µí•˜ëŠ” ê³µê°œ ì¶•êµ¬ íŠ¸ë˜í‚¹ ë°ì´í„°ë¥¼ í™œìš©í•©ë‹ˆë‹¤.  
> Bassek, M., Rein, R., Weber, H., & Memmert, D. (2025). *An integrated dataset of spatiotemporal and event data in elite soccer*. *Scientific Data*, 12(1), 195.
---

## ğŸš§ ì§„í–‰ í˜„í™©
- [x] íŠ¸ë˜í‚¹ ë°ì´í„° ìˆ˜ì§‘
- [x] ê¸°ë³¸ ì „ì²˜ë¦¬ ë° ê°€ê³µ
- [x] ë”¥ëŸ¬ë‹ ëª¨ë¸ ì„¤ê³„ ë° í•™ìŠµ
- [x] ì´ë²¤íŠ¸ ì˜ˆì¸¡ ê²°ê³¼ ë¶„ì„


---

## ë¬¸ì˜
- ì‘ì„±ì: fmë§ˆìŠ¤í„° - íŒ€ì¥ 202055614 ìµœì„±ë¯¼
- ì´ë©”ì¼: csm010311@pusan.ac.kr
